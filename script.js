const translations = {
    "pt": {
        "nav_home": "Início",
        "nav_benefits": "Benefícios",
        "nav_projects": "Projetos",
        "nav_faq": "Dúvidas",
        "nav_contact": "Contato",
        "cta_quote": "Fazer Orçamento",
        
        "hero_logic": "Sites Rápidos & Seguros",
        "hero_empathy": "Design que Vende",
        "hero_desc": "Profissionalize seu negócio com uma presença digital de alto nível.",
        "cta_whatsapp": "Conversar no WhatsApp",
        
        "pain_title": "Por que seu negócio precisa de um site hoje?",
        "pain_sub": "O Instagram atrai, mas o site é o que passa confiança e fecha negócios.",
        "pain_1_title": "Encontrado no Google",
        "pain_1_desc": "Se o cliente procura seu serviço e você não tem site, seu concorrente leva a venda.",
        "pain_2_title": "Vitrine Aberta 24/7",
        "pain_2_desc": "Um site atende, tira dúvidas e gera credibilidade mesmo enquanto você dorme.",
        "pain_3_title": "Mais Credibilidade",
        "pain_3_desc": "Qualquer um faz perfil social. Um domínio próprio mostra que sua empresa é séria.",
        
        "projects_title": "Projetos reais para negócios reais",
        "projects_desc": "Design e estratégia aplicados para gerar resultados.",
        "tag_local": "Serviço Local",
        "project_leao_desc": "Foco em facilidade de contato, localização e clareza para auto elétrica, transmitindo total confiança ao motorista.",
        "tag_store": "Vitrine Virtual",
        "project_casa_desc": "Interface sofisticada para destacar a qualidade visual dos produtos. Design responsivo que valoriza a estética premium.",
        "tag_catalog": "Catálogo",
        "project_didi_desc": "Catálogo apetitoso e dinâmico para venda de geladinhos gourmet. Layout pensado para facilitar o pedido no WhatsApp.",
        
        "testi_title": "O que dizem os clientes",
        "testi_sub": "Resultados reais de quem confiou no meu trabalho.",
        "testi_1": "\"A AJ fez nosso site super rápido e já estamos recebendo clientes pelo Google! O design ficou incrível e super fácil de usar no celular.\"",
        "testi_2": "\"Nossas vendas de geladinhos gourmet aumentaram muito depois que centralizamos o catálogo no site. Muito profissional e atenciosa!\"",
        
        "faq_title": "Dúvidas Frequentes",
        "faq_1_q": "Qual o prazo de entrega do site?",
        "faq_1_a": "A maioria das Landing Pages e sites institucionais são entregues entre 7 a 15 dias úteis, dependendo da complexidade e da sua aprovação do design.",
        "faq_2_q": "Preciso pagar mensalidade?",
        "faq_2_a": "A criação do site é um pagamento único! Os únicos custos externos anuais são o domínio e a hospedagem. Porém, ofereço pacotes opcionais de manutenção mensal caso você queira que eu cuide das atualizações, backups e suporte contínuo do seu site.",
        "faq_3_q": "Você faz a identidade visual também?",
        "faq_3_a": "Sim! Como tenho formação em UX/UI Design, posso criar o logotipo e as cores da sua empresa caso você ainda não tenha.",
        
        "diff_title": "Muito além do código.<br>Eu entendo de negócios.",
        "diff_desc": "Com 6 anos de experiência em gestão, meu foco não é apenas fazer telas bonitas, mas entregar uma ferramenta estratégica que resolve problemas da sua operação.",
        "diff_card_1": "Atendimento Humanizado",
        "diff_card_2": "Foco no Mobile (Celular)",
        "diff_card_3": "Otimizado para Vendas",
        
        "footer_title": "Pronto para digitalizar sua empresa?",
        "footer_desc": "Mande uma mensagem direta no WhatsApp ou preencha o formulário. Monto um orçamento sem compromisso para você.",
        "cta_whatsapp_2": "Chamar no WhatsApp",
        "price_anchor": "*Projetos profissionais a partir de R$ 900.",
        
        "form_name": "Seu Nome ou Empresa",
        "form_email": "Seu melhor E-mail",
        "form_msg": "Como posso ajudar o seu negócio?",
        "form_submit": "Enviar Mensagem"
    },
    "en": {
        "nav_home": "Home",
        "nav_benefits": "Benefits",
        "nav_projects": "Projects",
        "nav_faq": "FAQ",
        "nav_contact": "Contact",
        "cta_quote": "Get a Quote",
        
        "hero_logic": "Fast & Secure Sites",
        "hero_empathy": "Design that Sells",
        "hero_desc": "Professionalize your business with a top-tier digital presence.",
        "cta_whatsapp": "Chat on WhatsApp",
        
        "pain_title": "Why does your business need a website today?",
        "pain_sub": "Instagram attracts, but a website builds trust and closes deals.",
        "pain_1_title": "Found on Google",
        "pain_1_desc": "If clients search for your service and you have no site, competitors win.",
        "pain_2_title": "24/7 Storefront",
        "pain_2_desc": "A website answers questions and builds credibility even while you sleep.",
        "pain_3_title": "More Credibility",
        "pain_3_desc": "Anyone can make a social profile. A custom domain shows you mean business.",
        
        "projects_title": "Real projects for real businesses",
        "projects_desc": "Design and strategy applied to drive results.",
        "tag_local": "Local Service",
        "project_leao_desc": "Focused on easy contact, location clarity, and building total trust for an auto repair shop.",
        "tag_store": "Virtual Showcase",
        "project_casa_desc": "Sophisticated interface highlighting product visual quality. Premium aesthetics.",
        "tag_catalog": "Catalog",
        "project_didi_desc": "Appetizing dynamic catalog for selling gourmet treats. Streamlined for WhatsApp ordering.",
        
        "testi_title": "Client Testimonials",
        "testi_sub": "Real results from those who trusted my work.",
        "testi_1": "\"AJ built our site super fast and we are already getting clients from Google! The design is amazing and easy to use on mobile.\"",
        "testi_2": "\"Our sales increased a lot after we centralized our catalog on the site. Very professional!\"",
        
        "faq_title": "Frequently Asked Questions",
        "faq_1_q": "What is the delivery time?",
        "faq_1_a": "Most Landing Pages and institutional sites are delivered within 7 to 15 business days, depending on complexity.",
        "faq_2_q": "Do I have to pay a monthly fee?",
        "faq_2_a": "The website creation is a one-time fee! The only external annual costs are your domain and hosting. However, I offer optional monthly maintenance packages if you want me to handle updates, backups, and ongoing support.",
        "faq_3_q": "Do you also create the visual identity?",
        "faq_3_a": "Yes! With my UX/UI Design background, I can create your logo and brand colors if you don't have them yet.",
        
        "diff_title": "Beyond code.<br>I understand business.",
        "diff_desc": "With 6 years of management experience, my focus is delivering a strategic tool that solves real operational problems.",
        "diff_card_1": "Humanized Service",
        "diff_card_2": "Mobile-First Approach",
        "diff_card_3": "Optimized for Sales",
        
        "footer_title": "Ready to digitalize your business?",
        "footer_desc": "Send a direct message on WhatsApp or fill out the form. I'll provide a free estimate.",
        "cta_whatsapp_2": "Message on WhatsApp",
        "price_anchor": "*Professional projects starting at R$ 900.",
        
        "form_name": "Your Name or Company",
        "form_email": "Your best E-mail",
        "form_msg": "How can I help your business?",
        "form_submit": "Send Message"
    }
};

document.addEventListener("DOMContentLoaded", () => {
    if (typeof gsap !== 'undefined') { gsap.registerPlugin(ScrollTrigger); }

    const menuBtn = document.querySelector(".mobile-menu-btn");
    const body = document.body;
    
    function toggleMenu() {
        const isOpen = body.classList.toggle("menu-open");
        if(menuBtn) {
            menuBtn.setAttribute("aria-expanded", isOpen);
            menuBtn.setAttribute("aria-label", isOpen ? "Fechar Menu" : "Abrir Menu");
        }
    }
    
    if (menuBtn) menuBtn.addEventListener("click", (e) => { e.stopPropagation(); toggleMenu(); });
    
    document.querySelectorAll(".mobile-link, .mobile-cta, .mobile-menu-overlay").forEach(el => {
        el.addEventListener("click", () => { 
            body.classList.remove("menu-open"); 
            if(menuBtn) menuBtn.setAttribute("aria-expanded", "false"); 
        });
    });

    const themeBtn = document.getElementById("theme-toggle");
    const html = document.documentElement;
    const saved = localStorage.getItem("theme");
    
    if (saved) html.setAttribute("data-theme", saved);
    else if (window.matchMedia("(prefers-color-scheme: dark)").matches) html.setAttribute("data-theme", "dark");

    if (themeBtn) themeBtn.addEventListener("click", () => {
        const current = html.getAttribute("data-theme");
        const newTheme = current === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
    });

    const bar = document.querySelector(".scroll-progress-bar");
    window.addEventListener("scroll", () => {
        if(!bar) return;
        const scroll = document.documentElement.scrollTop || document.body.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        if (height <= 0) return;
        bar.style.width = (scroll / height) * 100 + "%";
    });

    const pImg = document.querySelector(".js-img-paint");
    const bImg = document.querySelector(".js-img-base");
    const lSide = document.querySelector(".hero__side--left");
    const rSide = document.querySelector(".hero__side--right");

    if (pImg && bImg && lSide && rSide) {
        const setRealistic = () => {
            body.classList.add("state-realistic"); body.classList.remove("state-paint");
            gsap.to(pImg, { clipPath: "inset(0% 0% 0% 100%)", duration: 0.5 });
            gsap.to(bImg, { opacity: 1, duration: 0.5 });
        };

        const setPaint = () => {
            body.classList.add("state-paint"); body.classList.remove("state-realistic");
            gsap.to(pImg, { clipPath: "inset(0% 0% 0% 0%)", duration: 0.5 });
            gsap.to(bImg, { opacity: 0, duration: 0.5 });
        };

        lSide.addEventListener("mouseenter", setRealistic);
        rSide.addEventListener("mouseenter", setPaint);
        lSide.addEventListener("click", setRealistic);
        rSide.addEventListener("click", setPaint);
        
        setRealistic(); 

        ScrollTrigger.matchMedia({
            "(max-width: 1023px)": () => {
                gsap.set(bImg, { opacity: 1 }); 
                gsap.set(pImg, { opacity: 0, clipPath: "inset(0% 0% 0% 0%)" });

                gsap.timeline({
                    scrollTrigger: { 
                        trigger: ".hero__image-area", 
                        start: "top 60%", 
                        end: "bottom 40%", 
                        scrub: true 
                    }
                }).to(pImg, { opacity: 1, ease: "none" }); 
            }
        });

        gsap.from(".hero__image-area", { scale: 0.9, opacity: 0, duration: 1, ease: "power3.out" });
    }

    // GSAP ANIMATIONS (INCLUINDO FAQ)
    gsap.utils.toArray(".project-card, .section-title, .differential-text, .diff-item, .faq-item").forEach(el => {
        gsap.from(el, {
            scrollTrigger: { trigger: el, start: "top 85%", toggleActions: "play none none none" },
            y: 40, opacity: 0, duration: 0.8, ease: "power3.out"
        });
    });

    const langBtn = document.getElementById("lang-toggle");
    let currentLang = localStorage.getItem("lang") || "pt";

    function updateTexts(lang) {
        if (typeof translations === 'undefined') return;

        document.querySelectorAll("[data-i18n]").forEach(el => {
            const rawKey = el.getAttribute("data-i18n");
            const keys = rawKey.split(';');

            keys.forEach(key => {
                if (key.startsWith("[href]")) {
                    const realKey = key.replace("[href]", "").trim();
                    if (translations[lang][realKey]) el.setAttribute("href", translations[lang][realKey]);
                } 
                else if (key.startsWith("[placeholder]")) {
                    const realKey = key.replace("[placeholder]", "").trim();
                    if (translations[lang][realKey]) el.setAttribute("placeholder", translations[lang][realKey]);
                }
                else {
                    if (translations[lang][key]) {
                        if (translations[lang][key].includes("<")) {
                            el.innerHTML = translations[lang][key];
                        } else {
                            el.textContent = translations[lang][key];
                        }
                    }
                }
            });
        });
        
        if(langBtn) langBtn.textContent = lang === "pt" ? "EN" : "PT";
    }

    updateTexts(currentLang);

    if (langBtn) {
        langBtn.addEventListener("click", () => {
            currentLang = currentLang === "pt" ? "en" : "pt";
            localStorage.setItem("lang", currentLang);
            updateTexts(currentLang);
        });
    }
});